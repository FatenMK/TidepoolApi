title: Dosing Decision
description: A dosing decision
allOf:
  - $ref: './base.v1.yaml'
  - type: object
    properties:
      insulinOnBoard:
        type: object
        properties:
          startDate:
            type: string
            format: date
          value:
            type: number
            minimum: 0
            maximum: 1000
        required:
          - startDate
          - value
      carbsOnBoard:
        type: object
        properties:
          startDate:
            type: string
            format: date
          endDate:
            type: string
            format: date
          quantity:
            type: number
            minimum: 0
            maximum: 1000
        required:
          - startDate
          - endDate
          - quantity
      forecast:
        type: array
        items:
          $ref: './forecast.v1.yaml'
      recommendedBasal:
        type: object
        properties:
          unitsPerHour:
            type: number
            minimum: 0
          duration:
            type: number
            minimum: 0
            maximum: 1000
        required:
          - unitsPerHour
          - duration
      recommendedBolus:
        type: number
        minimum: 0
        maximum: 1000
      glucoseTargetRangeSchedule:
        $ref: './blood/glucose/target.v1.yaml'
      alerts:
        type: array
        items:
          type: string
      units:
        type: object
        minProperties: 1
        properties:
          bg:
            $ref: './blood/units.v1.yaml'
          carbs:
            type: string
            enum:
              - exchanges
              - grams
        required:
          - bg
          - carbs
x-tags:
  - Data
